{% extends "base.html" %}

{% block extra_head %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Velora - Redefine Your Style</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary-black: #000000;
            --primary-white: #ffffff;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: #212529;
        }
        /* Hero Section */
        .hero-section {
            height: 100vh;
            background: linear-gradient(135deg, var(--gray-900) 0%, var(--primary-black) 50%, var(--gray-800) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://images.unsplash.com/photo-1441986300917-64674bd600d8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            opacity: 0.3;
        }
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
        }
        .hero-content {
            position: relative;
            z-index: 10;
            text-align: center;
            color: var(--primary-white);
        }
        .hero-title {
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            letter-spacing: 0.05em;
        }
        .hero-subtitle {
            background: linear-gradient(135deg, var(--primary-white) 0%, var(--gray-300) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .hero-description {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            color: var(--gray-200);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        .btn-hero-primary {
            background: var(--primary-white);
            color: var(--primary-black);
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
            border: none;
        }
        .btn-hero-primary:hover {
            background: var(--gray-100);
            color: var(--primary-black);
            text-decoration: none;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(255, 255, 255, 0.2);
        }
        .btn-hero-secondary {
            border: 2px solid var(--primary-white);
            color: var(--primary-white);
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
            background: transparent;
        }
        .btn-hero-secondary:hover {
            background: var(--primary-white);
            color: var(--primary-black);
            text-decoration: none;
        }
        /* Top Bar Styles */
        .top-bar {
            background: var(--primary-black);
            color: var(--primary-white);
            padding: 8px 0;
            font-size: 0.875rem;
        }
        .top-bar a {
            color: var(--primary-white);
            text-decoration: none;
            transition: opacity 0.3s ease;
        }
        .top-bar a:hover {
            opacity: 0.8;
            color: var(--primary-white);
        }
        /* Features Section */
        .features-section {
            padding: 5rem 0;
            background: var(--gray-50);
        }
        .feature-icon {
            width: 4rem;
            height: 4rem;
            background: var(--primary-black);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            color: var(--primary-white);
            font-size: 2rem;
        }
        /* Categories Section */
        .categories-section {
            padding: 5rem 0;
            background: var(--primary-white);
        }
        .section-title {
            text-align: center;
            margin-bottom: 4rem;
        }
        .section-title h2 {
            font-size: 3rem;
            font-weight: 800;
            color: var(--primary-black);
            margin-bottom: 1rem;
        }
        .section-title p {
            font-size: 1.25rem;
            color: var(--gray-600);
            max-width: 600px;
            margin: 0 auto;
        }
        .category-card {
            position: relative;
            border-radius: 1rem;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
            height: 400px;
        }
        .category-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.15);
            text-decoration: none;
            color: inherit;
        }
        .category-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .category-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            transition: background 0.3s ease;
        }
        .category-card:hover .category-overlay {
            background: rgba(0, 0, 0, 0.6);
        }
        .category-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 2rem;
            color: var(--primary-white);
        }
        .category-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        .category-description {
            color: var(--gray-200);
            margin-bottom: 1rem;
        }
        .product-count-badge {
            background: var(--primary-white);
            color: var(--primary-black);
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.875rem;
            font-weight: 600;
            display: inline-block;
        }
        /* Featured Products Section */
        .featured-section {
            padding: 5rem 0;
            background: var(--gray-50);
        }
        .product-card {
            background: var(--primary-white);
            border-radius: 0.75rem;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        .product-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.15);
        }
        .product-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }
        .product-info {
            padding: 1.5rem;
            text-align: center;
        }
        .product-name {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--primary-black);
            margin-bottom: 0.5rem;
        }
        .product-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-black);
        }
        /* About Section */
        .about-section {
            padding: 5rem 0;
            background: var(--primary-black);
            color: var(--primary-white);
        }
        .about-image {
            border-radius: 1rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            position: relative;
        }
        .about-badge {
            position: absolute;
            bottom: -1.5rem;
            left: -1.5rem;
            width: 8rem;
            height: 8rem;
            background: var(--primary-white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-black);
            font-weight: 700;
            font-size: 1.25rem;
        }
        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-white);
            margin-bottom: 0.5rem;
        }
        .stat-label {
            color: var(--gray-400);
        }
        /* Newsletter Section */
        .newsletter-section {
            padding: 5rem 0;
            background: linear-gradient(135deg, var(--gray-900) 0%, var(--primary-black) 100%);
            color: var(--primary-white);
        }
        .newsletter-input {
            border-radius: 50px;
            padding: 1rem 1.5rem;
            border: none;
            font-size: 1rem;
        }
        .newsletter-btn {
            background: var(--primary-white);
            color: var(--primary-black);
            border-radius: 50px;
            padding: 1rem 2rem;
            font-weight: 600;
            border: none;
            transition: all 0.3s ease;
        }
        .newsletter-btn:hover {
            background: var(--gray-100);
        }
        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            .hero-description {
                font-size: 1.125rem;
            }
            .section-title h2 {
                font-size: 2rem;
            }
            .brand-logo {
                font-size: 2rem;
            }
            .category-card {
                height: 300px;
            }
        }
        @media (max-width: 576px) {
            .hero-title {
                font-size: 2rem;
            }
            .btn-hero-primary,
            .btn-hero-secondary {
                display: block;
                margin-bottom: 1rem;
            }
        }
    </style>
</head>
<body>
{% endblock %}

{% block content %}
    <!-- Top Bar -->
    <div class="top-bar">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center">
                <div class="welcome-text">
                    Welcome, {% if user.is_authenticated %}{{ user.first_name|default:user.email|default:"User" }}{% else %}Guest{% endif %}!!
                </div>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-bg"></div>
        <div class="hero-overlay"></div>
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">
                    REDEFINE YOUR
                    <span class="d-block hero-subtitle">STYLE</span>
                </h1>
                <p class="hero-description">
                    Discover premium fashion that speaks to your individuality. Curated collections for the modern trendsetter.
                </p>
                <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center">
                    <a href="{% url 'userside:product_list' %}" class="btn-hero-primary">
                        Explore Collection
                    </a>
                    <button class="btn-hero-secondary">
                        Watch Lookbook
                    </button>
                </div>
            </div>
        </div>
    </section>
    <!-- Features Section -->
    <section class="features-section">
        <div class="container">
            <div class="row">
                <div class="col-md-4 text-center mb-4 mb-md-0">
                    <div class="feature-icon">
                        <i class="bi bi-truck"></i>
                    </div>
                    <h3 class="h5 fw-bold mb-2">Free Shipping</h3>
                    <p class="text-muted">Free shipping on orders over $100</p>
                </div>
                <div class="col-md-4 text-center mb-4 mb-md-0">
                    <div class="feature-icon">
                        <i class="bi bi-award"></i>
                    </div>
                    <h3 class="h5 fw-bold mb-2">Premium Quality</h3>
                    <p class="text-muted">Carefully selected materials and craftsmanship</p>
                </div>
                <div class="col-md-4 text-center">
                    <div class="feature-icon">
                        <i class="bi bi-headset"></i>
                    </div>
                    <h3 class="h5 fw-bold mb-2">24/7 Support</h3>
                    <p class="text-muted">Dedicated customer service team</p>
                </div>
            </div>
        </div>
    </section>
    <!-- Categories Section -->
    <section class="categories-section">
        <div class="container">
            <div class="section-title">
                <h2>Shop by Category</h2>
                <p>Explore our carefully curated collections designed for every style and occasion</p>
            </div>
            <div class="row g-4">
                {% for category in categories %}
                <div class="col-lg-4 col-md-6">
                    <a href="{% url 'userside:product_list' %}?category={{ category.name|lower }}" class="category-card d-block">
                        {% with products=category.products.all %}
                        {% if products %}
                            {% with random_product=products|random %}
                            <img src="{% if random_product.get_primary_image %}{{ random_product.get_primary_image }}{% else %}https://via.placeholder.com/400x400/f3f4f6/9ca3af?text={{ category.name|urlencode }}{% endif %}"
                                 alt="{{ category.name }}"
                                 class="category-image">
                            {% endwith %}
                        {% else %}
                            <div class="category-image d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);">
                                <i class="bi bi-bag" style="font-size: 4rem; color: #9ca3af;"></i>
                            </div>
                        {% endif %}
                        {% endwith %}
                        <div class="category-overlay"></div>
                        <div class="category-content">
                            <h3 class="category-name">{{ category.name }}</h3>
                            <p class="category-description">
                                {{ category.description|default:"Discover amazing products" }}
                            </p>
                            <span class="product-count-badge">
                                {{ category.product_count }} Product{{ category.product_count|pluralize }}
                            </span>
                        </div>
                    </a>
                </div>
                {% empty %}
                <div class="col-12 text-center py-5">
                    <p class="text-muted fs-5">No categories available at the moment.</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
    <!-- Featured Products Section -->
    {% if featured_products %}
    <section class="featured-section">
        <div class="container">
            <div class="section-title">
                <h2>Featured Products</h2>
                <p>Handpicked items that define the latest trends and timeless style</p>
            </div>
            <div class="row g-4">
                {% for product in featured_products %}
                <div class="col-lg-3 col-md-6">
                    <div class="product-card">
                        <img src="{% if product.get_primary_image %}{{ product.get_primary_image }}{% else %}https://via.placeholder.com/300x250/f3f4f6/9ca3af?text=Product{% endif %}"
                             alt="{{ product.name }}"
                             class="product-image">
                        <div class="product-info">
                            <h3 class="product-name">{{ product.name }}</h3>
                            <div class="product-price">${{ product.price }}</div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="text-center mt-5">
                <a href="{% url 'userside:product_list' %}" class="btn-hero-primary" style="background: var(--primary-black); color: var(--primary-white);">
                    View All Products
                </a>
            </div>
        </div>
    </section>
    {% endif %}
    <!-- About Velora Section -->
    <section class="about-section">
        <div class="container">
            <div class="row align-items-center g-5">
                <div class="col-lg-6">
                    <h2 class="display-4 fw-bold mb-4">About Velora</h2>
                    <p class="fs-5 text-light mb-4">
                        Velora is more than just a fashion brand â€“ we're a lifestyle destination for those who dare to be different. Founded on the principles of quality, innovation, and individual expression.
                    </p>
                    <p class="text-muted mb-5">
                        Our curated collections blend contemporary trends with timeless elegance, ensuring that every piece in your wardrobe tells your unique story. From everyday essentials to statement pieces, Velora empowers you to express your authentic self through fashion.
                    </p>
                    <div class="row">
                        <div class="col-6">
                            <div class="stat-number">10K+</div>
                            <div class="stat-label">Happy Customers</div>
                        </div>
                        <div class="col-6">
                            <div class="stat-number">500+</div>
                            <div class="stat-label">Premium Products</div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="position-relative">
                        <img src="https://images.unsplash.com/photo-1469334031218-e382a71b716b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"
                             alt="About Velora"
                             class="about-image w-100">
                        <div class="about-badge">
                            VELORA
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Newsletter Section -->
    <section class="newsletter-section">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8 text-center">
                    <h2 class="display-4 fw-bold mb-4">Stay in Style</h2>
                    <p class="fs-5 text-light mb-5">
                        Subscribe to our newsletter and be the first to know about new collections, exclusive offers, and fashion insights.
                    </p>
                    <div class="row justify-content-center">
                        <div class="col-md-8">
                            <div class="d-flex flex-column flex-sm-row gap-3">
                                <input type="email"
                                       class="newsletter-input flex-fill"
                                       placeholder="Enter your email">
                                <button class="newsletter-btn">Subscribe</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Prevent back navigation (from original code)
        history.pushState(null, null, location.href);
        window.onpopstate = function () {
            history.go(1);
        };
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>
{% endblock %}